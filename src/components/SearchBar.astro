---
import { Icon } from "astro-icon/components"
// Native SearchBar component - no React/MUI dependencies
---

<div class="search-bar">
  <input
    type="search"
    id="recipe-search"
    placeholder="Search recipes..."
    autocomplete="off"
  />
  <Icon name="fa6-solid:magnifying-glass" class="search-icon" />
</div>

<script>
  const searchInput = document.getElementById(
    "recipe-search"
  ) as HTMLInputElement

  searchInput?.addEventListener("input", (event) => {
    const target = event.target as HTMLInputElement
    const searchEvent = new CustomEvent("recipeSearch", {
      detail: { value: target.value },
    })
    window.dispatchEvent(searchEvent)
  })
</script>
